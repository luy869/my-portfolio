---
import { getCollection } from "astro:content";
import SectionHeading from "./ui/SectionHeading.astro";
import ProjectCard from "./ui/ProjectCard.astro";

const allProjects = await getCollection("projects");
const sortedProjects = allProjects.sort((a, b) => a.data.order - b.data.order);
---

<section id="projects" class="scroll-mt-24 py-20">
  <div class="mx-auto max-w-6xl px-6">
    <SectionHeading title="Projects" />

    <div class="grid gap-6 md:grid-cols-2">
      {
        sortedProjects.map((project) => (
          <ProjectCard
            title={project.data.title}
            description={project.data.description}
            tags={project.data.tags}
            featured={project.data.featured}
          />
        ))
      }
    </div>
  </div>
</section>
